<app-nav></app-nav>

<div class="container">
  <h2>🔠 Sopa de Letras</h2>

  <div class="info">
    <p><strong>Nivel:</strong> {{ level }} / {{ maxLevels }}</p>
    <p><strong>Puntaje:</strong> {{ score }}</p>
    <p><strong>Palabras por encontrar:</strong> {{ words.join(', ') }}</p>
    <p><strong>Encontradas:</strong>
      <ng-container *ngIf="foundWords.length > 0; else noFound">
        {{ foundWords.join(', ') }}
      </ng-container>
      <ng-template #noFound>Ninguna</ng-template>
    </p>
    <p class="message">{{ message }}</p>
  </div>

  <div class="grid">
    <div *ngFor="let row of grid; let i = index" class="row">
      <span
        *ngFor="let letter of row; let j = index"
        class="cell"
        (click)="toggleSelection(i, j)"
        [class.selected]="isSelected(i, j)">
        {{ letter }}
      </span>
    </div>
  </div>

  <div class="button-group">
    <button
      class="confirm-btn"
      (click)="confirmSelection()"
      [disabled]="gameCompleted || selectedCells.length === 0"
      aria-label="Confirmar la palabra seleccionada">
      ✅ Confirmar Palabra
    </button>

    <button
      class="restart-btn"
      (click)="restartGame()"
      aria-label="Reiniciar el juego">
      🔄 Reiniciar Juego
    </button>
  </div>

  <p *ngIf="restartCount >= maxRestarts" class="warning">
    ⚠️ Límite de reinicio alcanzado.
  </p>
</div>